<div class="auth-page">
    <div class="auth-card">
        <div class="auth-header">
            <a href="/" class="auth-logo">
                <div class="navbar-brand-icon">üè®</div>
                <%= settings.site_name || 'HostelHub' %>
            </a>
            <h1 class="auth-title">Welcome Back</h1>
            <p class="auth-subtitle">Login to your account</p>
        </div>

        <% if (typeof error !=='undefined' && error && error.length> 0) { %>
            <% error.forEach(function(msg) { %>
                <div class="alert alert-error">
                    <span class="alert-icon">‚úï</span>
                    <%= msg %>
                </div>
                <% }); %>
                    <% } %>

                        <% if (typeof success !=='undefined' && success && success.length> 0) { %>
                            <% success.forEach(function(msg) { %>
                                <div class="alert alert-success">
                                    <span class="alert-icon">‚úì</span>
                                    <%= msg %>
                                </div>
                                <% }); %>
                                    <% } %>

                                        <form action="/login" method="POST">
                                            <div class="form-group">
                                                <label class="form-label">Email Address</label>
                                                <input type="email" name="email" class="form-control" required
                                                    placeholder="your@email.com">
                                            </div>

                                            <div class="form-group">
                                                <label class="form-label">Password</label>
                                                <div style="position: relative;">
                                                    <input type="password" name="password" id="loginPassword"
                                                        class="form-control" required placeholder="Enter your password"
                                                        style="padding-right: 50px;">
                                                    <button type="button" onclick="togglePassword()"
                                                        style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; color: var(--gray-500); padding: 5px;">
                                                        <i data-lucide="eye" id="eyeIcon"
                                                            style="width: 20px; height: 20px;"></i>
                                                    </button>
                                                </div>
                                            </div>

                                            <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">
                                                Login
                                            </button>
                                        </form>

                                        <div class="auth-footer">
                                            Don't have an account? <a href="/register">Sign up</a>
                                        </div>
    </div>
</div>

<script>
    function togglePassword() {
        const input = document.getElementById('loginPassword');
        const icon = document.getElementById('eyeIcon');
        if (input.type === 'password') {
            input.type = 'text';
            icon.setAttribute('data-lucide', 'eye-off');
        } else {
            input.type = 'password';
            icon.setAttribute('data-lucide', 'eye');
        }
        lucide.createIcons();
    }
</script>